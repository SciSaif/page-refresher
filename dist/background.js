({69:function(){var e=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(r,s){function i(e){try{a(n.next(e))}catch(e){s(e)}}function c(e){try{a(n.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,c)}a((n=n.apply(e,t||[])).next())}))};let t,o=!1;function n(n){return e(this,void 0,void 0,(function*(){const e=yield chrome.scripting.executeScript({target:{tabId:n.id},func:()=>{console.log("sdfsd");const e=!!document.querySelector('div[data-test="no-question"]');return chrome.storage.sync.get("bgEnabled",(({bgEnabled:t})=>{console.log("bgEnabled: ",t),!e&&t&&(document.querySelector("body").style.backgroundColor="red")})),e}});console.log("yooo!: ",e),chrome.runtime.lastError?console.error(chrome.runtime.lastError):e[0].result?(console.log("refreshing"),chrome.tabs.reload(n.id)):(console.log("Content not found"),clearTimeout(t),chrome.notifications.create("",{title:"Found a question for you!",message:"There is a question waiting for you!",iconUrl:"/images/chegg-48.png",type:"basic"}),o=!1,chrome.storage.sync.set({refreshEnabled:!1}))}))}console.log("Chegg Auto Refresh is running"),chrome.tabs.onUpdated.addListener((function(e,t,r){var s,i;if(o&&((null===(s=r.url)||void 0===s?void 0:s.startsWith("https://expert.chegg.com/expertqna"))||(null===(i=r.url)||void 0===i?void 0:i.startsWith("https://expert.chegg.com/qna/authoring/answer"))))return"complete"===t.status&&setTimeout((()=>{n(r)}),8e3),!0})),chrome.runtime.onMessage.addListener((function(e,t,r){return 1==e.refreshEnabled?(o=!0,console.log("refresh enabled"),chrome.tabs.query({active:!0,currentWindow:!0}).then((e=>{var t,o;const r=e[0];if(console.log("tab",r),r)return!(null===(t=r.url)||void 0===t?void 0:t.startsWith("https://expert.chegg.com/expertqna"))&&!(null===(o=r.url)||void 0===o?void 0:o.startsWith("https://expert.chegg.com/qna/authoring/answer"))||void n(r)})),!0):0==e.refreshEnabled&&(console.log("refresh disabled"),o=!1,!0)}))}})[69]();
//# sourceMappingURL=background.js.map